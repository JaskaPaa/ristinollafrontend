var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function l(e,t,n){e.$$.on_destroy.push(r(t,n))}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function h(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function p(e){return document.createTextNode(e)}function v(){return p(" ")}function g(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function b(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function y(e,t,n){e.classList[n?"add":"remove"](t)}let x;function j(e){x=e}const k=[],z=[],M=[],_=[],L=Promise.resolve();let O=!1;function X(e){M.push(e)}function C(e){_.push(e)}const E=new Set;let A=0;function S(){const e=x;do{for(;A<k.length;){const e=k[A];A++,j(e),T(e.$$)}for(j(null),k.length=0,A=0;z.length;)z.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];E.has(t)||(E.add(t),t())}M.length=0}while(k.length);for(;_.length;)_.pop()();O=!1,E.clear(),j(e)}function T(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}const V=new Set;let G,N,q;function B(){G={r:0,c:[],p:G}}function R(){G.r||o(G.c),G=G.p}function P(e,t){e&&e.i&&(V.delete(e),e.i(t))}function H(e,t,n,o){if(e&&e.o){if(V.has(e))return;V.add(e),G.c.push((()=>{V.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function I(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function U(e){e&&e.c()}function Y(e,n,s,r){const{fragment:l,on_mount:c,on_destroy:u,after_update:a}=e.$$;l&&l.m(n,s),r||X((()=>{const n=c.map(t).filter(i);u?u.push(...n):o(n),e.$$.on_mount=[]})),a.forEach(X)}function D(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function F(e,t){-1===e.$$.dirty[0]&&(k.push(e),O||(O=!0,L.then(S)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,i,s,r,l,c,u,f=[-1]){const d=x;j(t);const h=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:i.target||d.$$.root};u&&u(h.root);let p=!1;if(h.ctx=s?s(t,i.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return h.ctx&&l(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&F(t,e)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);h.fragment&&h.fragment.l(e),e.forEach(a)}else h.fragment&&h.fragment.c();i.intro&&P(t.$$.fragment),Y(t,i.target,i.anchor,i.customElement),S()}j(d)}class K{$destroy(){D(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Q(e){let t=[];N=e.slice(),q=N.length;for(var n=0;n<N.length;n++)for(var o=N[n],i=0;i<o.length;i++)"-"===N[n][i]&&t.push({value:W(n,i),move:[n,i]});return t.sort(((e,t)=>t.value-e.value)),t.length===q*q?{x:Math.round(q/2)-1,y:Math.round(q/2)-1}:{x:t[0].move[0],y:t[0].move[1]}}function W(e,t){var n,o,i,s,r;for(r=0,o=0,i=(s=["X","O"]).length;o<i;o++)n=s[o],N[e][t]=n,r+=ee(Z(e,t-5,0,1,11),n),r+=ee(Z(e-5,t,1,0,11),n),r+=ee(Z(e-5,t-5,1,1,11),n),r+=ee(Z(e+5,t-5,-1,1,11),n);return N[e][t]="-",r}function Z(e,t,n,o,i){var s,r,l;for(l="",s=0,r=i;0<=r?s<r:s>r;0<=r?++s:--s)e>=0&&e<q&&t>=0&&t<q&&(l+=N[e][t]),e+=n,t+=o;return l}function ee(e,t){var n,o;return n="O"===t?1:0,-1!==(o=(e=e.replace(/_/g,"-")).search(t+t+t+t+t))?1e5+1e4*n:-1!==(o=e.search(t+t+t+t))?"-"===e[o-1]&&"-"===e[o+4]?1e4+1e4*n:"-"===e[o-1]||"-"===e[o+4]?900+500*n:0:-1!==(o=e.search(t+t+t+"-"+t+"|"+t+"-"+t+t+t))?800+500*n:-1!==(o=e.search(t+t+t))?"--"===e.slice(o-2,o)&&"--"===e.slice(o+3,o+5)?1e3+1e3*n:"--"===e.slice(o-2,o)||"--"===e.slice(o+3,o+5)?300+100*n:0:-1!==(o=e.search(t+t+"-"+t))||-1!==(o=e.search(t+"-"+t+t))?"--"===e.slice(o-2,o)&&"--"===e.slice(o+4,o+6)?800+100*n:"--"===e.slice(o-2,o)||"--"===e.slice(o+4,o+6)?500+100*n:0:-1!==(o=e.search("--"+t+t+"--"))?100+100*n:0}function te(e,t,n){var o,i,s;if(-1===e)return[];N=n.slice();let r=N[e][t],l=[];return(i=e-5)<0&&(i=0),(s=t-5)<0&&(s=0),-1!==(o=Z(e,t-5,0,1,11).search(r+r+r+r+r))&&(l=[e,s+o,e,s+o+4]),-1!==(o=Z(e-5,t,1,0,11).search(r+r+r+r+r))&&(l=[i+o,t,i+o+4,t]),(e-5<=0||t-5<=0)&&(i=e>t?e-t:0,s=t>e?t-e:0),-1!==(o=Z(e-5,t-5,1,1,11).search(r+r+r+r+r))&&(l=[i+o,s+o,i+o+4,s+o+4]),i=e+5,s=t-5<0?0:t-5,(e+5>=19||t-5<=0)&&(i=19-e>t?e+t:19,s=t>19-e?t-(19-e):0),-1!==(o=Z(e+5,t-5,-1,1,11).search(r+r+r+r+r))&&(l=[i-o,s+o,i-o-4,s+o+4]),function(e){if(4!==e.length)return[];let t=0;e[2]-e[0]>0&&(t=1);e[2]-e[0]<0&&(t=-1);let n=0;e[3]-e[1]>0&&(n=1);e[3]-e[1]<0&&(n=-1);let o=[e[0],e[1]];for(let e=2;e<8;e+=2)o[e]=o[e-2]+t,o[e+1]=o[e-1]+n;return o[8]=e[2],o[9]=e[3],o}(l)}function ne(e){let t=[];N=e.slice(),q=N.length;for(var n=0;n<N.length;n++)for(var o=N[n],i=0;i<o.length;i++)"-"===N[n][i]&&t.push({value:0,move:[n,i]});return 0===t.length}const oe=[];function ie(t,n=e){let o;const i=new Set;function r(e){if(s(t,e)&&(t=e,o)){const e=!oe.length;for(const e of i)e[1](),oe.push(e,t);if(e){for(let e=0;e<oe.length;e+=2)oe[e][0](oe[e+1]);oe.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(s,l=e){const c=[s,l];return i.add(c),1===i.size&&(o=n(r)||e),s(t),()=>{i.delete(c),0===i.size&&(o(),o=null)}}}}const se=ie(window.visualViewport.width),re=ie(window.visualViewport.height),le=ie("#202020"),ce=ie("#606060"),ue=function(t,n,s){const l=!Array.isArray(t),c=l?[t]:t,u=n.length<2;return a=t=>{let s=!1;const a=[];let f=0,d=e;const h=()=>{if(f)return;d();const o=n(l?a[0]:a,t);u?t(o):d=i(o)?o:e},p=c.map(((e,t)=>r(e,(e=>{a[t]=e,f&=~(1<<t),s&&h()}),(()=>{f|=1<<t}))));return s=!0,h(),function(){o(p),d()}},{subscribe:ie(s,a).subscribe};var a}(le,(e=>{let t=[e.slice(1,3),e.slice(3,5),e.slice(5,7)];return t=t.map((e=>parseInt(e,16))),t.reduce(((e,t)=>e+t),0)/3<127?"white":"black"}));function ae(e){let t,n;return{c(){t=h("line"),n=h("line"),m(t,"opacity","0.6"),m(t,"stroke",e[6]),m(t,"stroke-width","12%"),m(t,"x1","20%"),m(t,"y1","20%"),m(t,"x2","80%"),m(t,"y2","80%"),m(t,"class","svelte-14ulk1k"),y(t,"anim",e[2]),m(n,"opacity","0.6"),m(n,"stroke",e[6]),m(n,"stroke-width","12%"),m(n,"x1","80%"),m(n,"y1","20%"),m(n,"x2","20%"),m(n,"y2","80%"),m(n,"class","svelte-14ulk1k"),y(n,"anim",e[2])},m(e,o){u(e,t,o),u(e,n,o)},p(e,o){64&o&&m(t,"stroke",e[6]),4&o&&y(t,"anim",e[2]),64&o&&m(n,"stroke",e[6]),4&o&&y(n,"anim",e[2])},d(e){e&&a(t),e&&a(n)}}}function fe(e){let t;return{c(){t=h("circle"),m(t,"fill","none"),m(t,"opacity","0.6"),m(t,"stroke",e[6]),m(t,"stroke-width","12%"),m(t,"cx","50%"),m(t,"cy","50%"),m(t,"r","30%"),m(t,"class","svelte-14ulk1k"),y(t,"anim",e[2])},m(e,n){u(e,t,n)},p(e,n){64&n&&m(t,"stroke",e[6]),4&n&&y(t,"anim",e[2])},d(e){e&&a(t)}}}function de(t){let n,o,s,r,l,f,w,$="X"===t[0]&&ae(t),y="O"===t[0]&&fe(t);return{c(){n=h("animate"),o=v(),s=d("button"),r=h("svg"),$&&$.c(),l=p(""),y&&y.c(),m(n,"attributeType","XML"),m(n,"attributeName","stroke"),m(n,"values","blue;green;blue"),m(n,"dur","0.5s"),m(n,"repeatCount","1"),m(r,"viewBox","0 0 32 32"),m(r,"xmlns","http://www.w3.org/2000/svg"),m(s,"class","square svelte-14ulk1k"),b(s,"width",t[3]+"px"),b(s,"height",t[3]+"px"),b(s,"background",t[4]),b(s,"border-color",t[5])},m(e,a){u(e,n,a),u(e,o,a),u(e,s,a),c(s,r),$&&$.m(r,null),c(r,l),y&&y.m(r,null),f||(w=g(s,"click",(function(){i(t[1])&&t[1].apply(this,arguments)})),f=!0)},p(e,[n]){"X"===(t=e)[0]?$?$.p(t,n):($=ae(t),$.c(),$.m(r,l)):$&&($.d(1),$=null),"O"===t[0]?y?y.p(t,n):(y=fe(t),y.c(),y.m(r,null)):y&&(y.d(1),y=null),8&n&&b(s,"width",t[3]+"px"),8&n&&b(s,"height",t[3]+"px"),16&n&&b(s,"background",t[4]),32&n&&b(s,"border-color",t[5])},i:e,o:e,d(e){e&&a(n),e&&a(o),e&&a(s),$&&$.d(),y&&y.d(),f=!1,w()}}}function he(e,t,n){let o,i,s;l(e,le,(e=>n(4,o=e))),l(e,ce,(e=>n(5,i=e))),l(e,ue,(e=>n(6,s=e)));let{text:r=""}=t,{onClick:c}=t,{anim:u=!1}=t,{size:a}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text),"onClick"in e&&n(1,c=e.onClick),"anim"in e&&n(2,u=e.anim),"size"in e&&n(3,a=e.size)},[r,c,u,a,o,i,s]}class pe extends K{constructor(e){super(),J(this,e,he,de,s,{text:0,onClick:1,anim:2,size:3})}}function ve(t){let n,o,i,s,r,l,f;return{c(){n=d("button"),o=h("svg"),i=h("line"),s=h("line"),r=h("line"),m(i,"opacity","0.6"),m(i,"stroke",t[2]),m(i,"stroke-width","12%"),m(i,"x1","10%"),m(i,"y1","90%"),m(i,"x2","90%"),m(i,"y2","10%"),m(s,"opacity","0.6"),m(s,"stroke",t[2]),m(s,"stroke-width","12%"),m(s,"x1","40%"),m(s,"y1","90%"),m(s,"x2","90%"),m(s,"y2","40%"),m(r,"opacity","0.6"),m(r,"stroke",t[2]),m(r,"stroke-width","12%"),m(r,"x1","70%"),m(r,"y1","90%"),m(r,"x2","90%"),m(r,"y2","70%"),m(o,"viewBox","0 0 24 24"),m(o,"xmlns","http://www.w3.org/2000/svg"),b(n,"top",t[0]+8+"px"),b(n,"left",t[1]+8+"px"),b(n,"color",t[2]),b(n,"width","12px"),b(n,"height","12px"),m(n,"class","svelte-1xx9mh4")},m(e,a){u(e,n,a),c(n,o),c(o,i),c(o,s),c(o,r),l||(f=g(n,"mousedown",t[3]),l=!0)},p(e,[t]){4&t&&m(i,"stroke",e[2]),4&t&&m(s,"stroke",e[2]),4&t&&m(r,"stroke",e[2]),1&t&&b(n,"top",e[0]+8+"px"),2&t&&b(n,"left",e[1]+8+"px"),4&t&&b(n,"color",e[2])},i:e,o:e,d(e){e&&a(n),l=!1,f()}}}function ge(e,t,n){let o;l(e,le,(e=>n(2,o=e)));let{size:i=620}=t,{top:s=i}=t,{left:r=i}=t,{resized:c=i}=t,u=i,a=i,f=!1;function d(e){f&&(a+=e.movementX,u+=e.movementY,n(4,c=Math.min(u,a)))}function h(e){console.log(`Mouse up: ${e.x}, ${e.y}`),f=!1,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)}return e.$$set=e=>{"size"in e&&n(5,i=e.size),"top"in e&&n(0,s=e.top),"left"in e&&n(1,r=e.left),"resized"in e&&n(4,c=e.resized)},[s,r,o,function(e){f=!0,window.addEventListener("mousemove",d),window.addEventListener("mouseup",h)},c,i]}class me extends K{constructor(e){super(),J(this,e,ge,ve,s,{size:5,top:0,left:1,resized:4})}}function we(e,t,n){const o=e.slice();return o[20]=t[n],o[22]=n,o}function $e(e,t,n){const o=e.slice();return o[23]=t[n],o[25]=n,o}function be(e){let t,n,o,i,s,r,l,f,d,p,v;return{c(){t=h("svg"),n=h("line"),o=h("animate"),m(o,"attributeType","XML"),m(o,"values",i="X"===e[1]?"green;blue":"blue;green"),m(o,"attributeName","stroke"),m(o,"dur","0.5s"),m(o,"repeatCount","5"),m(n,"class","path--"),m(n,"x1",s=e[4][0]),m(n,"y1",r=e[4][1]),m(n,"x2",l=e[4][2]),m(n,"y2",f=e[4][3]),m(n,"stroke",e[10]),m(n,"opacity","0.6"),m(n,"stroke-width",d=e[6]/3),m(n,"stroke-linecap","round"),m(t,"height",p=e[0]*e[6]),m(t,"width",v=e[0]*e[6]),m(t,"class","svelte-1ag8sq8")},m(e,i){u(e,t,i),c(t,n),c(n,o)},p(e,c){2&c&&i!==(i="X"===e[1]?"green;blue":"blue;green")&&m(o,"values",i),16&c&&s!==(s=e[4][0])&&m(n,"x1",s),16&c&&r!==(r=e[4][1])&&m(n,"y1",r),16&c&&l!==(l=e[4][2])&&m(n,"x2",l),16&c&&f!==(f=e[4][3])&&m(n,"y2",f),1024&c&&m(n,"stroke",e[10]),64&c&&d!==(d=e[6]/3)&&m(n,"stroke-width",d),65&c&&p!==(p=e[0]*e[6])&&m(t,"height",p),65&c&&v!==(v=e[0]*e[6])&&m(t,"width",v)},d(e){e&&a(t)}}}function ye(e){let t,n;return t=new pe({props:{onClick:function(){return e[15](e[22],e[25])},text:"-"===e[2][e[22]][e[25]]?"":e[2][e[22]][e[25]],anim:!(e[22]!=e[3].x||e[25]!=e[3].y||!e[7]),size:e[6]}}),{c(){U(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(n,o){e=n;const i={};4&o&&(i.text="-"===e[2][e[22]][e[25]]?"":e[2][e[22]][e[25]]),136&o&&(i.anim=!(e[22]!=e[3].x||e[25]!=e[3].y||!e[7])),64&o&&(i.size=e[6]),t.$set(i)},i(e){n||(P(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function xe(e){let t,n,o=e[20],i=[];for(let t=0;t<o.length;t+=1)i[t]=ye($e(e,o,t));const s=e=>H(i[e],1,1,(()=>{i[e]=null}));return{c(){t=d("div");for(let e=0;e<i.length;e+=1)i[e].c();m(t,"class","board-row svelte-1ag8sq8")},m(e,o){u(e,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,n){if(2252&n){let r;for(o=e[20],r=0;r<o.length;r+=1){const s=$e(e,o,r);i[r]?(i[r].p(s,n),P(i[r],1)):(i[r]=ye(s),i[r].c(),P(i[r],1),i[r].m(t,null))}for(B(),r=o.length;r<i.length;r+=1)s(r);R()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)P(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)H(i[e]);n=!1},d(e){e&&a(t),f(i,e)}}}function je(e){let t,n,o,i,s,r,l=("X"===e[1]||"O"===e[1])&&be(e),h=e[2],p=[];for(let t=0;t<h.length;t+=1)p[t]=xe(we(e,h,t));const g=e=>H(p[e],1,1,(()=>{p[e]=null}));function w(t){e[16](t)}let $={top:e[0]*e[6],left:e[0]*e[6]};return void 0!==e[5]&&($.resized=e[5]),i=new me({props:$}),z.push((()=>I(i,"resized",w))),{c(){t=d("div"),l&&l.c(),n=v();for(let e=0;e<p.length;e+=1)p[e].c();o=v(),U(i.$$.fragment),m(t,"class","wrapper svelte-1ag8sq8"),b(t,"background-color",e[9]),b(t,"width",e[0]*e[6]+39+"px"),b(t,"border-color",e[8])},m(e,s){u(e,t,s),l&&l.m(t,null),c(t,n);for(let e=0;e<p.length;e+=1)p[e].m(t,null);c(t,o),Y(i,t,null),r=!0},p(e,[c]){if("X"===e[1]||"O"===e[1]?l?l.p(e,c):(l=be(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),2252&c){let n;for(h=e[2],n=0;n<h.length;n+=1){const i=we(e,h,n);p[n]?(p[n].p(i,c),P(p[n],1)):(p[n]=xe(i),p[n].c(),P(p[n],1),p[n].m(t,o))}for(B(),n=h.length;n<p.length;n+=1)g(n);R()}const u={};65&c&&(u.top=e[0]*e[6]),65&c&&(u.left=e[0]*e[6]),!s&&32&c&&(s=!0,u.resized=e[5],C((()=>s=!1))),i.$set(u),(!r||512&c)&&b(t,"background-color",e[9]),(!r||65&c)&&b(t,"width",e[0]*e[6]+39+"px"),(!r||256&c)&&b(t,"border-color",e[8])},i(e){if(!r){for(let e=0;e<h.length;e+=1)P(p[e]);P(i.$$.fragment,e),r=!0}},o(e){p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)H(p[e]);H(i.$$.fragment,e),r=!1},d(e){e&&a(t),l&&l.d(),f(p,e),D(i)}}}function ke(e,t,n){let o,i,s;l(e,le,(e=>n(9,i=e))),l(e,ue,(e=>n(10,s=e)));let{winner:r=""}=t,{bSize:c=15}=t,u=Array(c).fill().map((()=>Array(c).fill("-"))),a=[],f={x:0,y:0},d=!1,h=!0,p=[0,0,0,0];le.subscribe((e=>{}));let v="#abc";ce.subscribe((e=>{n(8,v=e)}));let g=620;function m(e,t){""===r&&"-"===u[e][t]&&(n(2,u[e][t]="X",u),n(3,f={x:e,y:t}),n(14,a=te(e,t,u)),console.log("winnerLine: "+a),a.length>0||(console.log("Tasuri? "+ne(u)),ne(u)?n(1,r="Tasapeli"):function(){if(console.log("AI plays..."),""!==r)return;let e=Q(u.slice());n(2,u[e.x][e.y]="O",u),n(3,f={x:e.x,y:e.y}),n(14,a=te(e.x,e.y,u)),console.log("winnerLine: "+a),console.log("Tasuri? "+ne(u)),ne(u)&&n(1,r="Tasapeli")}()))}return e.$$set=e=>{"winner"in e&&n(1,r=e.winner),"bSize"in e&&n(0,c=e.bSize)},e.$$.update=()=>{if(33&e.$$.dirty&&n(6,o=Math.round(g/c)%2==0?Math.round(g/c)+1:Math.round(g/c)),97&e.$$.dirty&&console.log("Resized: "+g+" "+o+" "+Math.floor(g/c)%2),16476&e.$$.dirty&&a.length>0){let e=o;n(4,p[0]=Math.floor(a[1]*e+e/2+1),p),n(4,p[1]=Math.floor(a[0]*e+e/2+1),p),n(4,p[2]=Math.floor(a[9]*e+e/2+1),p),n(4,p[3]=Math.floor(a[8]*e+e/2+1),p),console.log("line: "+p),console.log("ss: "+e),n(1,r=u[f.x][f.y]),console.log("GAME OVER")}},[c,r,u,f,p,g,o,d,v,i,s,m,function(e=15){if(n(0,c=e),n(2,u=Array(c).fill().map((()=>Array(c).fill("-")))),n(14,a=[]),n(1,r=""),h=!h,console.log("bSize: "+c),!1===h){let e=Q(u.slice());n(2,u[e.x][e.y]="O",u),n(3,f={x:e.x,y:e.y})}},function(){n(7,d=!0),setTimeout((()=>{n(7,d=!1)}),500)},a,(e,t)=>m(e,t),function(e){g=e,n(5,g)}]}class ze extends K{constructor(e){super(),J(this,e,ke,je,s,{winner:1,bSize:0,newGame:12,showLastMove:13})}get newGame(){return this.$$.ctx[12]}get showLastMove(){return this.$$.ctx[13]}}function Me(e){let t,n,s,r,l,f,h,y,x,j,k,M,_,L,O,X,E,A,S,T,V,G,N,q,B,R,F,J,K,Q,W,Z,ee,te,ne,oe,ie,se,re,le,ce,ue,ae,fe,de,he,pe,ve,ge,me,we,$e,be,ye,xe,je,ke,Me,_e,Le,Oe=e[3].X+"",Xe=e[3].O+"",Ce=""===e[0]?"Sinun vuorosi":"Voittaja: "+e[0];function Ee(t){e[7](t)}let Ae={bSize:e[1]};return void 0!==e[0]&&(Ae.winner=e[0]),ee=new ze({props:Ae}),z.push((()=>I(ee,"winner",Ee))),e[8](ee),{c(){t=d("meta"),n=d("html"),s=v(),r=d("div"),r.innerHTML='<h1 class="svelte-jvwi4j">Ristinolla</h1>',l=v(),f=d("main"),h=d("div"),y=d("fieldset"),x=d("legend"),x.textContent="Pelitilanne",j=v(),k=d("table"),M=d("tr"),M.innerHTML='<th class="svelte-jvwi4j">X</th> \n\t\t\t\t  <th class="svelte-jvwi4j">O</th>',_=v(),L=d("tr"),O=d("td"),X=p(Oe),E=v(),A=d("td"),S=p(Xe),T=v(),V=d("br"),G=v(),N=d("p"),q=p(Ce),B=v(),R=d("button"),F=p("Uusi peli"),K=v(),Q=d("button"),Q.textContent="Viime siirto",W=v(),Z=d("div"),U(ee.$$.fragment),ne=v(),oe=d("div"),ie=d("h1"),ie.textContent="Asetukset",se=v(),re=d("div"),le=d("input"),ce=v(),ue=d("label"),ue.textContent="Tausta",ae=v(),fe=d("div"),de=d("input"),he=v(),pe=d("label"),pe.textContent="Reuna",ve=v(),ge=d("p"),me=p("Väri: "),we=p(e[4]),$e=v(),be=d("button"),be.textContent="++",ye=v(),xe=d("button"),xe.textContent="--",je=v(),ke=d("input"),document.title="Ristinolla",m(t,"name","robots"),m(t,"content","noindex nofollow"),m(n,"lang","fi"),m(r,"class","header svelte-jvwi4j"),m(x,"align","center"),m(x,"class","svelte-jvwi4j"),m(M,"class","svelte-jvwi4j"),m(O,"id","xscore"),m(O,"class","scores svelte-jvwi4j"),m(A,"id","oscore"),m(A,"class","scores svelte-jvwi4j"),m(L,"class","svelte-jvwi4j"),m(k,"class","scores svelte-jvwi4j"),m(V,"class","svelte-jvwi4j"),m(N,"class","svelte-jvwi4j"),m(y,"class","svelte-jvwi4j"),R.disabled=J=""===e[0],m(R,"class","svelte-jvwi4j"),m(Q,"class","svelte-jvwi4j"),m(h,"class","left svelte-jvwi4j"),b(h,"background",e[4]+"55"),b(h,"color","black"),m(Z,"class","middle svelte-jvwi4j"),m(ie,"class","svelte-jvwi4j"),m(le,"type","color"),m(le,"id","head"),m(le,"name","head"),m(le,"class","svelte-jvwi4j"),m(ue,"for","head"),m(ue,"class","svelte-jvwi4j"),m(re,"class","svelte-jvwi4j"),m(de,"type","color"),m(de,"id","body"),m(de,"name","body"),m(de,"class","svelte-jvwi4j"),m(pe,"for","body"),m(pe,"class","svelte-jvwi4j"),m(fe,"class","svelte-jvwi4j"),m(ge,"class","svelte-jvwi4j"),m(be,"class","svelte-jvwi4j"),m(xe,"class","svelte-jvwi4j"),m(ke,"type","range"),m(ke,"min","5"),m(ke,"max","30"),m(ke,"class","svelte-jvwi4j"),m(oe,"class","right svelte-jvwi4j"),b(oe,"background",e[4]+"55"),b(oe,"color","black"),m(f,"class","svelte-jvwi4j")},m(o,a){c(document.head,t),c(document.head,n),u(o,s,a),u(o,r,a),u(o,l,a),u(o,f,a),c(f,h),c(h,y),c(y,x),c(y,j),c(y,k),c(k,M),c(k,_),c(k,L),c(L,O),c(O,X),c(L,E),c(L,A),c(A,S),c(y,T),c(y,V),c(y,G),c(y,N),c(N,q),c(h,B),c(h,R),c(R,F),c(h,K),c(h,Q),c(f,W),c(f,Z),Y(ee,Z,null),c(f,ne),c(f,oe),c(oe,ie),c(oe,se),c(oe,re),c(re,le),$(le,e[4]),c(re,ce),c(re,ue),c(oe,ae),c(oe,fe),c(fe,de),$(de,e[5]),c(fe,he),c(fe,pe),c(oe,ve),c(oe,ge),c(ge,me),c(ge,we),c(oe,$e),c(oe,be),c(oe,ye),c(oe,xe),c(oe,je),c(oe,ke),$(ke,e[1]),Me=!0,_e||(Le=[g(R,"click",e[6]),g(Q,"click",(function(){i(e[2].showLastMove)&&e[2].showLastMove.apply(this,arguments)})),g(le,"input",e[9]),g(de,"input",e[10]),g(be,"click",e[11]),g(xe,"click",e[12]),g(ke,"change",e[13]),g(ke,"input",e[13])],_e=!0)},p(t,[n]){e=t,(!Me||8&n)&&Oe!==(Oe=e[3].X+"")&&w(X,Oe),(!Me||8&n)&&Xe!==(Xe=e[3].O+"")&&w(S,Xe),(!Me||1&n)&&Ce!==(Ce=""===e[0]?"Sinun vuorosi":"Voittaja: "+e[0])&&w(q,Ce),(!Me||1&n&&J!==(J=""===e[0]))&&(R.disabled=J),(!Me||16&n)&&b(h,"background",e[4]+"55");const o={};2&n&&(o.bSize=e[1]),!te&&1&n&&(te=!0,o.winner=e[0],C((()=>te=!1))),ee.$set(o),16&n&&$(le,e[4]),32&n&&$(de,e[5]),(!Me||16&n)&&w(we,e[4]),2&n&&$(ke,e[1]),(!Me||16&n)&&b(oe,"background",e[4]+"55")},i(e){Me||(P(ee.$$.fragment,e),Me=!0)},o(e){H(ee.$$.fragment,e),Me=!1},d(i){a(t),a(n),i&&a(s),i&&a(r),i&&a(l),i&&a(f),e[8](null),D(ee),_e=!1,o(Le)}}}function _e(e,t,n){let o,i="",s=18,r={X:0,O:0},l="#222222",c="#777777";window.visualViewport.addEventListener("resize",(function(){se.set(window.visualViewport.width),re.set(window.visualViewport.height)}));return e.$$.update=()=>{16&e.$$.dirty&&le.set(l),32&e.$$.dirty&&ce.set(c),32&e.$$.dirty&&console.log(c),6&e.$$.dirty&&void 0!==o&&o.newGame(s),9&e.$$.dirty&&"X"===i&&n(3,r.X++,r),9&e.$$.dirty&&"O"===i&&n(3,r.O++,r)},[i,s,o,r,l,c,()=>o.newGame(s),function(e){i=e,n(0,i)},function(e){z[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},function(){l=this.value,n(4,l)},function(){c=this.value,n(5,c)},()=>{n(1,s+=1),o.newGame(s)},()=>{n(1,s-=1),o.newGame(s)},function(){var e;e=this.value,s=""===e?null:+e,n(1,s)}]}return new class extends K{constructor(e){super(),J(this,e,_e,Me,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
