var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function s(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function i(e,t,n){e.$$.on_destroy.push(l(t,n))}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function h(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function g(e){return document.createTextNode(e)}function p(){return g(" ")}function m(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}function b(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function y(e,t,n){e.classList[n?"add":"remove"](t)}let x;function k(e){x=e}const z=[],M=[],_=[],L=[],O=Promise.resolve();let X=!1;function C(e){_.push(e)}function E(e){L.push(e)}const A=new Set;let S=0;function T(){const e=x;do{for(;S<z.length;){const e=z[S];S++,k(e),V(e.$$)}for(k(null),z.length=0,S=0;M.length;)M.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];A.has(t)||(A.add(t),t())}_.length=0}while(z.length);for(;L.length;)L.pop()();X=!1,A.clear(),k(e)}function V(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const G=new Set;let N,j,q;function B(){N={r:0,c:[],p:N}}function R(){N.r||o(N.c),N=N.p}function P(e,t){e&&e.i&&(G.delete(e),e.i(t))}function H(e,t,n,o){if(e&&e.o){if(G.has(e))return;G.add(e),N.c.push((()=>{G.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function I(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function U(e){e&&e.c()}function Y(e,n,r,l){const{fragment:i,on_mount:c,on_destroy:u,after_update:a}=e.$$;i&&i.m(n,r),l||C((()=>{const n=c.map(t).filter(s);u?u.push(...n):o(n),e.$$.on_mount=[]})),a.forEach(C)}function D(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function F(e,t){-1===e.$$.dirty[0]&&(z.push(e),X||(X=!0,O.then(T)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,s,r,l,i,c,u,f=[-1]){const d=x;k(t);const h=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||d.$$.root};u&&u(h.root);let g=!1;if(h.ctx=r?r(t,s.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return h.ctx&&i(h.ctx[e],h.ctx[e]=s)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](s),g&&F(t,e)),n})):[],h.update(),g=!0,o(h.before_update),h.fragment=!!l&&l(h.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(a)}else h.fragment&&h.fragment.c();s.intro&&P(t.$$.fragment),Y(t,s.target,s.anchor,s.customElement),T()}k(d)}class K{$destroy(){D(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Q(e){let t=[];j=e.slice(),q=j.length;for(var n=0;n<j.length;n++)for(var o=j[n],s=0;s<o.length;s++)"-"===j[n][s]&&t.push({value:W(n,s),move:[n,s]});return t.sort(((e,t)=>t.value-e.value)),t.length===q*q?{x:Math.round(q/2)-1,y:Math.round(q/2)-1}:{x:t[0].move[0],y:t[0].move[1]}}function W(e,t){var n,o,s,r,l;for(l=0,o=0,s=(r=["X","O"]).length;o<s;o++)n=r[o],j[e][t]=n,l+=ee(Z(e,t-5,0,1,11),n),l+=ee(Z(e-5,t,1,0,11),n),l+=ee(Z(e-5,t-5,1,1,11),n),l+=ee(Z(e+5,t-5,-1,1,11),n);return j[e][t]="-",l}function Z(e,t,n,o,s){var r,l,i;for(i="",r=0,l=s;0<=l?r<l:r>l;0<=l?++r:--r)e>=0&&e<q&&t>=0&&t<q&&(i+=j[e][t]),e+=n,t+=o;return i}function ee(e,t){var n,o;return n="O"===t?1:0,-1!==(o=(e=e.replace(/_/g,"-")).search(t+t+t+t+t))?1e5+1e4*n:-1!==(o=e.search(t+t+t+t))?"-"===e[o-1]&&"-"===e[o+4]?1e4+1e4*n:"-"===e[o-1]||"-"===e[o+4]?900+500*n:0:-1!==(o=e.search(t+t+t+"-"+t+"|"+t+"-"+t+t+t))?800+500*n:-1!==(o=e.search(t+t+t))?"--"===e.slice(o-2,o)&&"--"===e.slice(o+3,o+5)?1e3+1e3*n:"--"===e.slice(o-2,o)||"--"===e.slice(o+3,o+5)?300+100*n:0:-1!==(o=e.search(t+t+"-"+t))||-1!==(o=e.search(t+"-"+t+t))?"--"===e.slice(o-2,o)&&"--"===e.slice(o+4,o+6)?800+100*n:"--"===e.slice(o-2,o)||"--"===e.slice(o+4,o+6)?500+100*n:0:-1!==(o=e.search("--"+t+t+"--"))?100+100*n:0}function te(e,t,n){var o,s,r;if(-1===e)return[];j=n.slice();let l=j[e][t],i=[];return(s=e-5)<0&&(s=0),(r=t-5)<0&&(r=0),-1!==(o=Z(e,t-5,0,1,11).search(l+l+l+l+l))&&(i=[e,r+o,e,r+o+4]),-1!==(o=Z(e-5,t,1,0,11).search(l+l+l+l+l))&&(i=[s+o,t,s+o+4,t]),(e-5<=0||t-5<=0)&&(s=e>t?e-t:0,r=t>e?t-e:0),-1!==(o=Z(e-5,t-5,1,1,11).search(l+l+l+l+l))&&(i=[s+o,r+o,s+o+4,r+o+4]),s=e+5,r=t-5<0?0:t-5,(e+5>=19||t-5<=0)&&(s=19-e>t?e+t:19,r=t>19-e?t-(19-e):0),-1!==(o=Z(e+5,t-5,-1,1,11).search(l+l+l+l+l))&&(i=[s-o,r+o,s-o-4,r+o+4]),function(e){if(4!==e.length)return[];let t=0;e[2]-e[0]>0&&(t=1);e[2]-e[0]<0&&(t=-1);let n=0;e[3]-e[1]>0&&(n=1);e[3]-e[1]<0&&(n=-1);let o=[e[0],e[1]];for(let e=2;e<8;e+=2)o[e]=o[e-2]+t,o[e+1]=o[e-1]+n;return o[8]=e[2],o[9]=e[3],o}(i)}function ne(e){let t=[];j=e.slice(),q=j.length;for(var n=0;n<j.length;n++)for(var o=j[n],s=0;s<o.length;s++)"-"===j[n][s]&&t.push({value:0,move:[n,s]});return 0===t.length}const oe=[];function se(t,n=e){let o;const s=new Set;function l(e){if(r(t,e)&&(t=e,o)){const e=!oe.length;for(const e of s)e[1](),oe.push(e,t);if(e){for(let e=0;e<oe.length;e+=2)oe[e][0](oe[e+1]);oe.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,i=e){const c=[r,i];return s.add(c),1===s.size&&(o=n(l)||e),r(t),()=>{s.delete(c),0===s.size&&(o(),o=null)}}}}const re=se(window.visualViewport.width),le=se(window.visualViewport.height),ie=se("#202020"),ce=se("#606060"),ue=function(t,n,r){const i=!Array.isArray(t),c=i?[t]:t,u=n.length<2;return a=t=>{let r=!1;const a=[];let f=0,d=e;const h=()=>{if(f)return;d();const o=n(i?a[0]:a,t);u?t(o):d=s(o)?o:e},g=c.map(((e,t)=>l(e,(e=>{a[t]=e,f&=~(1<<t),r&&h()}),(()=>{f|=1<<t}))));return r=!0,h(),function(){o(g),d()}},{subscribe:se(r,a).subscribe};var a}(ie,(e=>{let t=[e.slice(1,3),e.slice(3,5),e.slice(5,7)];return t=t.map((e=>parseInt(e,16))),t.reduce(((e,t)=>e+t),0)/3<127?"white":"black"}));function ae(e){let t,n;return{c(){t=h("line"),n=h("line"),v(t,"opacity","0.6"),v(t,"stroke",e[6]),v(t,"stroke-width","12%"),v(t,"x1","20%"),v(t,"y1","20%"),v(t,"x2","80%"),v(t,"y2","80%"),v(t,"class","svelte-14ulk1k"),y(t,"anim",e[2]),v(n,"opacity","0.6"),v(n,"stroke",e[6]),v(n,"stroke-width","12%"),v(n,"x1","80%"),v(n,"y1","20%"),v(n,"x2","20%"),v(n,"y2","80%"),v(n,"class","svelte-14ulk1k"),y(n,"anim",e[2])},m(e,o){u(e,t,o),u(e,n,o)},p(e,o){64&o&&v(t,"stroke",e[6]),4&o&&y(t,"anim",e[2]),64&o&&v(n,"stroke",e[6]),4&o&&y(n,"anim",e[2])},d(e){e&&a(t),e&&a(n)}}}function fe(e){let t;return{c(){t=h("circle"),v(t,"fill","none"),v(t,"opacity","0.6"),v(t,"stroke",e[6]),v(t,"stroke-width","12%"),v(t,"cx","50%"),v(t,"cy","50%"),v(t,"r","30%"),v(t,"class","svelte-14ulk1k"),y(t,"anim",e[2])},m(e,n){u(e,t,n)},p(e,n){64&n&&v(t,"stroke",e[6]),4&n&&y(t,"anim",e[2])},d(e){e&&a(t)}}}function de(t){let n,o,r,l,i,f,$,w="X"===t[0]&&ae(t),y="O"===t[0]&&fe(t);return{c(){n=h("animate"),o=p(),r=d("button"),l=h("svg"),w&&w.c(),i=g(""),y&&y.c(),v(n,"attributeType","XML"),v(n,"attributeName","stroke"),v(n,"values","blue;green;blue"),v(n,"dur","0.5s"),v(n,"repeatCount","1"),v(l,"viewBox","0 0 32 32"),v(l,"xmlns","http://www.w3.org/2000/svg"),v(r,"class","square svelte-14ulk1k"),b(r,"width",t[3]+"px"),b(r,"height",t[3]+"px"),b(r,"background",t[4]),b(r,"border-color",t[5])},m(e,a){u(e,n,a),u(e,o,a),u(e,r,a),c(r,l),w&&w.m(l,null),c(l,i),y&&y.m(l,null),f||($=m(r,"click",(function(){s(t[1])&&t[1].apply(this,arguments)})),f=!0)},p(e,[n]){"X"===(t=e)[0]?w?w.p(t,n):(w=ae(t),w.c(),w.m(l,i)):w&&(w.d(1),w=null),"O"===t[0]?y?y.p(t,n):(y=fe(t),y.c(),y.m(l,null)):y&&(y.d(1),y=null),8&n&&b(r,"width",t[3]+"px"),8&n&&b(r,"height",t[3]+"px"),16&n&&b(r,"background",t[4]),32&n&&b(r,"border-color",t[5])},i:e,o:e,d(e){e&&a(n),e&&a(o),e&&a(r),w&&w.d(),y&&y.d(),f=!1,$()}}}function he(e,t,n){let o,s,r;i(e,ie,(e=>n(4,o=e))),i(e,ce,(e=>n(5,s=e))),i(e,ue,(e=>n(6,r=e)));let{text:l=""}=t,{onClick:c}=t,{anim:u=!1}=t,{size:a}=t;return e.$$set=e=>{"text"in e&&n(0,l=e.text),"onClick"in e&&n(1,c=e.onClick),"anim"in e&&n(2,u=e.anim),"size"in e&&n(3,a=e.size)},[l,c,u,a,o,s,r]}class ge extends K{constructor(e){super(),J(this,e,he,de,r,{text:0,onClick:1,anim:2,size:3})}}function pe(t){let n,o,s,r,l,i,f;return{c(){n=d("button"),o=h("svg"),s=h("line"),r=h("line"),l=h("line"),v(s,"opacity","0.6"),v(s,"stroke",t[2]),v(s,"stroke-width","12%"),v(s,"x1","10%"),v(s,"y1","90%"),v(s,"x2","90%"),v(s,"y2","10%"),v(r,"opacity","0.6"),v(r,"stroke",t[2]),v(r,"stroke-width","12%"),v(r,"x1","40%"),v(r,"y1","90%"),v(r,"x2","90%"),v(r,"y2","40%"),v(l,"opacity","0.6"),v(l,"stroke",t[2]),v(l,"stroke-width","12%"),v(l,"x1","70%"),v(l,"y1","90%"),v(l,"x2","90%"),v(l,"y2","70%"),v(o,"viewBox","0 0 24 24"),v(o,"xmlns","http://www.w3.org/2000/svg"),b(n,"top",t[0]+8+"px"),b(n,"left",t[1]+8+"px"),b(n,"color",t[2]),b(n,"width","12px"),b(n,"height","12px"),v(n,"class","svelte-1xx9mh4")},m(e,a){u(e,n,a),c(n,o),c(o,s),c(o,r),c(o,l),i||(f=m(n,"mousedown",t[3]),i=!0)},p(e,[t]){4&t&&v(s,"stroke",e[2]),4&t&&v(r,"stroke",e[2]),4&t&&v(l,"stroke",e[2]),1&t&&b(n,"top",e[0]+8+"px"),2&t&&b(n,"left",e[1]+8+"px"),4&t&&b(n,"color",e[2])},i:e,o:e,d(e){e&&a(n),i=!1,f()}}}function me(e,t,n){let o;i(e,ie,(e=>n(2,o=e)));let{size:s=620}=t,{top:r=s}=t,{left:l=s}=t,{resized:c=s}=t,u=s,a=s,f=!1;function d(e){f&&(a+=e.movementX,u+=e.movementY,n(4,c=Math.min(u,a)))}function h(e){console.log(`Mouse up: ${e.x}, ${e.y}`),f=!1,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)}return e.$$set=e=>{"size"in e&&n(5,s=e.size),"top"in e&&n(0,r=e.top),"left"in e&&n(1,l=e.left),"resized"in e&&n(4,c=e.resized)},[r,l,o,function(e){f=!0,window.addEventListener("mousemove",d),window.addEventListener("mouseup",h)},c,s]}class ve extends K{constructor(e){super(),J(this,e,me,pe,r,{size:5,top:0,left:1,resized:4})}}function $e(e,t,n){const o=e.slice();return o[20]=t[n],o[22]=n,o}function we(e,t,n){const o=e.slice();return o[23]=t[n],o[25]=n,o}function be(e){let t,n,o,s,r,l,i,f,d,g,p;return{c(){t=h("svg"),n=h("line"),o=h("animate"),v(o,"attributeType","XML"),v(o,"values",s="X"===e[1]?"green;blue":"blue;green"),v(o,"attributeName","stroke"),v(o,"dur","0.5s"),v(o,"repeatCount","5"),v(n,"class","path--"),v(n,"x1",r=e[4][0]),v(n,"y1",l=e[4][1]),v(n,"x2",i=e[4][2]),v(n,"y2",f=e[4][3]),v(n,"stroke",e[10]),v(n,"opacity","0.6"),v(n,"stroke-width",d=e[6]/3),v(n,"stroke-linecap","round"),v(t,"height",g=e[0]*e[6]),v(t,"width",p=e[0]*e[6]),v(t,"class","svelte-1ag8sq8")},m(e,s){u(e,t,s),c(t,n),c(n,o)},p(e,c){2&c&&s!==(s="X"===e[1]?"green;blue":"blue;green")&&v(o,"values",s),16&c&&r!==(r=e[4][0])&&v(n,"x1",r),16&c&&l!==(l=e[4][1])&&v(n,"y1",l),16&c&&i!==(i=e[4][2])&&v(n,"x2",i),16&c&&f!==(f=e[4][3])&&v(n,"y2",f),1024&c&&v(n,"stroke",e[10]),64&c&&d!==(d=e[6]/3)&&v(n,"stroke-width",d),65&c&&g!==(g=e[0]*e[6])&&v(t,"height",g),65&c&&p!==(p=e[0]*e[6])&&v(t,"width",p)},d(e){e&&a(t)}}}function ye(e){let t,n;return t=new ge({props:{onClick:function(){return e[15](e[22],e[25])},text:"-"===e[2][e[22]][e[25]]?"":e[2][e[22]][e[25]],anim:!(e[22]!=e[3].x||e[25]!=e[3].y||!e[7]),size:e[6]}}),{c(){U(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(n,o){e=n;const s={};4&o&&(s.text="-"===e[2][e[22]][e[25]]?"":e[2][e[22]][e[25]]),136&o&&(s.anim=!(e[22]!=e[3].x||e[25]!=e[3].y||!e[7])),64&o&&(s.size=e[6]),t.$set(s)},i(e){n||(P(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function xe(e){let t,n,o=e[20],s=[];for(let t=0;t<o.length;t+=1)s[t]=ye(we(e,o,t));const r=e=>H(s[e],1,1,(()=>{s[e]=null}));return{c(){t=d("div");for(let e=0;e<s.length;e+=1)s[e].c();v(t,"class","board-row svelte-1ag8sq8")},m(e,o){u(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,n){if(2252&n){let l;for(o=e[20],l=0;l<o.length;l+=1){const r=we(e,o,l);s[l]?(s[l].p(r,n),P(s[l],1)):(s[l]=ye(r),s[l].c(),P(s[l],1),s[l].m(t,null))}for(B(),l=o.length;l<s.length;l+=1)r(l);R()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)P(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)H(s[e]);n=!1},d(e){e&&a(t),f(s,e)}}}function ke(e){let t,n,o,s,r,l,i=("X"===e[1]||"O"===e[1])&&be(e),h=e[2],g=[];for(let t=0;t<h.length;t+=1)g[t]=xe($e(e,h,t));const m=e=>H(g[e],1,1,(()=>{g[e]=null}));function $(t){e[16](t)}let w={top:e[0]*e[6],left:e[0]*e[6]};return void 0!==e[5]&&(w.resized=e[5]),s=new ve({props:w}),M.push((()=>I(s,"resized",$))),{c(){t=d("div"),i&&i.c(),n=p();for(let e=0;e<g.length;e+=1)g[e].c();o=p(),U(s.$$.fragment),v(t,"class","wrapper svelte-1ag8sq8"),b(t,"background-color",e[9]),b(t,"width",e[0]*e[6]+39+"px"),b(t,"border-color",e[8])},m(e,r){u(e,t,r),i&&i.m(t,null),c(t,n);for(let e=0;e<g.length;e+=1)g[e].m(t,null);c(t,o),Y(s,t,null),l=!0},p(e,[c]){if("X"===e[1]||"O"===e[1]?i?i.p(e,c):(i=be(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),2252&c){let n;for(h=e[2],n=0;n<h.length;n+=1){const s=$e(e,h,n);g[n]?(g[n].p(s,c),P(g[n],1)):(g[n]=xe(s),g[n].c(),P(g[n],1),g[n].m(t,o))}for(B(),n=h.length;n<g.length;n+=1)m(n);R()}const u={};65&c&&(u.top=e[0]*e[6]),65&c&&(u.left=e[0]*e[6]),!r&&32&c&&(r=!0,u.resized=e[5],E((()=>r=!1))),s.$set(u),(!l||512&c)&&b(t,"background-color",e[9]),(!l||65&c)&&b(t,"width",e[0]*e[6]+39+"px"),(!l||256&c)&&b(t,"border-color",e[8])},i(e){if(!l){for(let e=0;e<h.length;e+=1)P(g[e]);P(s.$$.fragment,e),l=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)H(g[e]);H(s.$$.fragment,e),l=!1},d(e){e&&a(t),i&&i.d(),f(g,e),D(s)}}}function ze(e,t,n){let o,s,r;i(e,ie,(e=>n(9,s=e))),i(e,ue,(e=>n(10,r=e)));let{winner:l=""}=t,{bSize:c=15}=t,u=Array(c).fill().map((()=>Array(c).fill("-"))),a=[],f={x:0,y:0},d=!1,h=!0,g=[0,0,0,0];ie.subscribe((e=>{}));let p="#abc";ce.subscribe((e=>{n(8,p=e)}));let m=620;function v(e,t){""===l&&"-"===u[e][t]&&(n(2,u[e][t]="X",u),n(3,f={x:e,y:t}),n(14,a=te(e,t,u)),console.log("winnerLine: "+a),a.length>0||(console.log("Tasuri? "+ne(u)),ne(u)?n(1,l="Tasapeli"):function(){if(console.log("AI plays..."),""!==l)return;let e=Q(u.slice());n(2,u[e.x][e.y]="O",u),n(3,f={x:e.x,y:e.y}),n(14,a=te(e.x,e.y,u)),console.log("winnerLine: "+a),console.log("Tasuri? "+ne(u)),ne(u)&&n(1,l="Tasapeli")}()))}return e.$$set=e=>{"winner"in e&&n(1,l=e.winner),"bSize"in e&&n(0,c=e.bSize)},e.$$.update=()=>{if(33&e.$$.dirty&&n(6,o=Math.round(m/c)%2==0?Math.round(m/c)+1:Math.round(m/c)),97&e.$$.dirty&&console.log("Resized: "+m+" "+o+" "+Math.floor(m/c)%2),16476&e.$$.dirty&&a.length>0){let e=o;n(4,g[0]=Math.floor(a[1]*e+e/2+1),g),n(4,g[1]=Math.floor(a[0]*e+e/2+1),g),n(4,g[2]=Math.floor(a[9]*e+e/2+1),g),n(4,g[3]=Math.floor(a[8]*e+e/2+1),g),console.log("line: "+g),console.log("ss: "+e),n(1,l=u[f.x][f.y]),console.log("GAME OVER")}},[c,l,u,f,g,m,o,d,p,s,r,v,function(e=15){if(n(0,c=e),n(2,u=Array(c).fill().map((()=>Array(c).fill("-")))),n(14,a=[]),n(1,l=""),h=!h,console.log("bSize: "+c),!1===h){let e=Q(u.slice());n(2,u[e.x][e.y]="O",u),n(3,f={x:e.x,y:e.y})}},function(){n(7,d=!0),setTimeout((()=>{n(7,d=!1)}),500)},a,(e,t)=>v(e,t),function(e){m=e,n(5,m)}]}class Me extends K{constructor(e){super(),J(this,e,ze,ke,r,{winner:1,bSize:0,newGame:12,showLastMove:13})}get newGame(){return this.$$.ctx[12]}get showLastMove(){return this.$$.ctx[13]}}function _e(e){let t,n,r,l,i,f,h,y,x,k,z,_,L,O,X,C,A,S,T,V,G,N,j,q,B,R,F,J,K,Q,W,Z,ee,te,ne,oe,se,re,le,ie,ce,ue,ae,fe,de,he,ge,pe,me,ve,$e,we,be,ye,xe,ke,ze,_e,Le,Oe,Xe=e[3].X+"",Ce=e[3].O+"",Ee=""===e[0]?"Sinun vuorosi":"Voittaja: "+e[0];function Ae(t){e[7](t)}let Se={bSize:e[1]};return void 0!==e[0]&&(Se.winner=e[0]),ee=new Me({props:Se}),M.push((()=>I(ee,"winner",Ae))),e[8](ee),{c(){t=d("meta"),n=d("html"),r=p(),l=d("div"),l.innerHTML='<h1 class="svelte-21eg29">Ristinolla</h1>',i=p(),f=d("main"),h=d("div"),y=d("fieldset"),x=d("legend"),x.textContent="Pelitilanne",k=p(),z=d("table"),_=d("tr"),_.innerHTML='<th class="svelte-21eg29">X</th> \n\t\t\t\t  <th class="svelte-21eg29">O</th>',L=p(),O=d("tr"),X=d("td"),C=g(Xe),A=p(),S=d("td"),T=g(Ce),V=p(),G=d("br"),N=p(),j=d("p"),q=g(Ee),B=p(),R=d("button"),F=g("Uusi peli"),K=p(),Q=d("button"),Q.textContent="Viime siirto",W=p(),Z=d("div"),U(ee.$$.fragment),ne=p(),oe=d("div"),se=d("h1"),se.textContent="Asetukset",re=p(),le=d("div"),ie=d("input"),ce=p(),ue=d("label"),ue.textContent="Tausta",ae=p(),fe=d("div"),de=d("input"),he=p(),ge=d("label"),ge.textContent="Reuna",pe=p(),me=d("p"),ve=g("Väri: "),$e=g(e[4]),we=p(),be=d("button"),be.textContent="++",ye=p(),xe=d("button"),xe.textContent="--",ke=p(),ze=d("input"),document.title="Ristinolla",v(t,"name","robots"),v(t,"content","noindex nofollow"),v(n,"lang","fi"),v(l,"class","header svelte-21eg29"),v(x,"align","center"),v(x,"class","svelte-21eg29"),v(_,"class","svelte-21eg29"),v(X,"id","xscore"),v(X,"class","scores svelte-21eg29"),v(S,"id","oscore"),v(S,"class","scores svelte-21eg29"),v(O,"class","svelte-21eg29"),v(z,"class","scores svelte-21eg29"),v(G,"class","svelte-21eg29"),v(j,"class","svelte-21eg29"),v(y,"class","svelte-21eg29"),R.disabled=J=""===e[0],v(R,"class","svelte-21eg29"),v(Q,"class","svelte-21eg29"),v(h,"class","left svelte-21eg29"),b(h,"background",e[4]+"55"),b(h,"color","black"),v(Z,"class","middle svelte-21eg29"),v(se,"class","svelte-21eg29"),v(ie,"type","color"),v(ie,"id","head"),v(ie,"name","head"),v(ie,"class","svelte-21eg29"),v(ue,"for","head"),v(ue,"class","svelte-21eg29"),v(le,"class","svelte-21eg29"),v(de,"type","color"),v(de,"id","body"),v(de,"name","body"),v(de,"class","svelte-21eg29"),v(ge,"for","body"),v(ge,"class","svelte-21eg29"),v(fe,"class","svelte-21eg29"),v(me,"class","svelte-21eg29"),v(be,"class","svelte-21eg29"),v(xe,"class","svelte-21eg29"),v(ze,"type","range"),v(ze,"min","5"),v(ze,"max","30"),v(ze,"class","svelte-21eg29"),v(oe,"class","right svelte-21eg29"),b(oe,"background",e[4]+"55"),b(oe,"color","black"),v(f,"class","svelte-21eg29")},m(o,a){c(document.head,t),c(document.head,n),u(o,r,a),u(o,l,a),u(o,i,a),u(o,f,a),c(f,h),c(h,y),c(y,x),c(y,k),c(y,z),c(z,_),c(z,L),c(z,O),c(O,X),c(X,C),c(O,A),c(O,S),c(S,T),c(y,V),c(y,G),c(y,N),c(y,j),c(j,q),c(h,B),c(h,R),c(R,F),c(h,K),c(h,Q),c(f,W),c(f,Z),Y(ee,Z,null),c(f,ne),c(f,oe),c(oe,se),c(oe,re),c(oe,le),c(le,ie),w(ie,e[4]),c(le,ce),c(le,ue),c(oe,ae),c(oe,fe),c(fe,de),w(de,e[5]),c(fe,he),c(fe,ge),c(oe,pe),c(oe,me),c(me,ve),c(me,$e),c(oe,we),c(oe,be),c(oe,ye),c(oe,xe),c(oe,ke),c(oe,ze),w(ze,e[1]),_e=!0,Le||(Oe=[m(R,"click",e[6]),m(Q,"click",(function(){s(e[2].showLastMove)&&e[2].showLastMove.apply(this,arguments)})),m(ie,"input",e[9]),m(de,"input",e[10]),m(be,"click",e[11]),m(xe,"click",e[12]),m(ze,"change",e[13]),m(ze,"input",e[13])],Le=!0)},p(t,[n]){e=t,(!_e||8&n)&&Xe!==(Xe=e[3].X+"")&&$(C,Xe),(!_e||8&n)&&Ce!==(Ce=e[3].O+"")&&$(T,Ce),(!_e||1&n)&&Ee!==(Ee=""===e[0]?"Sinun vuorosi":"Voittaja: "+e[0])&&$(q,Ee),(!_e||1&n&&J!==(J=""===e[0]))&&(R.disabled=J),(!_e||16&n)&&b(h,"background",e[4]+"55");const o={};2&n&&(o.bSize=e[1]),!te&&1&n&&(te=!0,o.winner=e[0],E((()=>te=!1))),ee.$set(o),16&n&&w(ie,e[4]),32&n&&w(de,e[5]),(!_e||16&n)&&$($e,e[4]),2&n&&w(ze,e[1]),(!_e||16&n)&&b(oe,"background",e[4]+"55")},i(e){_e||(P(ee.$$.fragment,e),_e=!0)},o(e){H(ee.$$.fragment,e),_e=!1},d(s){a(t),a(n),s&&a(r),s&&a(l),s&&a(i),s&&a(f),e[8](null),D(ee),Le=!1,o(Oe)}}}function Le(e,t,n){let o,s="",r=18,l={X:0,O:0},i="#222222",c="#777777";window.visualViewport.addEventListener("resize",(function(){re.set(window.visualViewport.width),le.set(window.visualViewport.height)}));return e.$$.update=()=>{16&e.$$.dirty&&ie.set(i),32&e.$$.dirty&&ce.set(c),32&e.$$.dirty&&console.log(c),6&e.$$.dirty&&void 0!==o&&o.newGame(r),9&e.$$.dirty&&"X"===s&&n(3,l.X++,l),9&e.$$.dirty&&"O"===s&&n(3,l.O++,l)},[s,r,o,l,i,c,()=>o.newGame(r),function(e){s=e,n(0,s)},function(e){M[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},function(){i=this.value,n(4,i)},function(){c=this.value,n(5,c)},()=>{n(1,r+=1),o.newGame(r)},()=>{n(1,r-=1),o.newGame(r)},function(){var e;e=this.value,r=""===e?null:+e,n(1,r)}]}return new class extends K{constructor(e){super(),J(this,e,Le,_e,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
